<div *ngIf="!surveyFinished" class="container px-3 h-100 py-lg-5 my-lg-5">
  <div class="container-fluid">
    <section class="jumbotron text-center">
      <p class="survey-position">Question {{currentQuestionId+1}} sur {{surveyLength}}</p>
      <h4>{{currentQuestion.question}}</h4>

      <!-- Si INPUT il y a -->
      <div class="row" *ngIf="!isAnswerOnClick(currentQuestion)">
        <div class="col-12" *ngFor='let answer of currentQuestion.answers'>
          <div class="card">
            <div class="card-body form-inline justify-content-center" *ngIf="isTemperature(currentQuestion)">
              <div class="form-group mx-3 mb-0">
                <input type="number" class="form-control text-center" step="0.1" [value]="inputTemperature" (input)="inputTemperature = $event.target.value;" />
              </div>
              <div class="form-group mx-3 mb-0">
                <label>°c</label>
              </div>
            </div>

            <div class="card-body form-inline justify-content-center" *ngIf="isAge(currentQuestion)">
              <div class="form-group mx-3 mb-0">
                <input type="number" class="form-control text-center" step="1" placeholder="ex : 45" (input)="inputAge = $event.target.value;"/>
              </div>
              <div class="form-group mx-3 mb-0">
                <label>ans</label>
              </div>
            </div>

            <div class="card-body form-inline justify-content-center" *ngIf="isPoids(currentQuestion)">
              <div class="form-group mx-3 mb-0">
                <input type="number" class="form-control text-center" step="1" placeholder="ex : 70" (input)="inputPoids = $event.target.value;" />
              </div>
              <div class="form-group mx-3 mb-0">
                <label>kg</label>
              </div>
            </div>

            <div class="card-body form-inline justify-content-center" *ngIf="isTaille(currentQuestion)">
              <div class="form-group mx-3 mb-0">
                <input type="number" class="form-control text-center" step="1" placeholder="ex : 175" (input)="inputTaille = $event.target.value;" />
              </div>
              <div class="form-group mx-3 mb-0">
                <label>cm</label>
              </div>
            </div>

            <div class="card-body form-inline justify-content-center" *ngIf="isPostalCode(currentQuestion)">
              <div class="form-group mx-3 mb-0">
                <input class="form-control text-center" pattern="[0-9]{5}" type="text" placeholder="ex : 98800" (input)="inputPostalCode = $event.target.value;"/>
              </div>
            </div>

          </div>
        </div>
      </div>

      <!-- OUI/NON -->
      <div class="row" *ngIf="currentQuestion.answers.length == 2">
        <div class="col-3"></div>
        <div class="col-3" *ngFor='let answer of currentQuestion.answers'>
            <p class="mb-0 btn btn-info my-2" (click)="onClick(answer)">
                {{answer.label}}
            </p>
        </div>
        <div class="col-3"></div>
      </div>

      <!-- CONTINUER - TODO Bouton grisé tant que input pas renseigné -->
      <div class="row" *ngIf="currentQuestion.answers.length == 1">
        <div class="col-12" *ngFor='let answer of currentQuestion.answers'>
          <p class="mb-0 btn btn-info my-2" (click)="onClick(answer)">
              {{answer.label}}
          </p>
        </div>
      </div>

      <!-- MULTIPLE 3 - TODO Restyliser le multiple 3-->
      <div class="row" *ngIf="currentQuestion.answers.length == 3">
        <div class="col-4" *ngFor='let answer of currentQuestion.answers'>
          <p class="mb-0 btn btn-info my-2" (click)="onClick(answer)">
              {{answer.label}}
          </p>
        </div>
      </div>

      <!-- MULTIPLE 4 -->
      <div class="row" *ngIf="currentQuestion.answers.length == 4">
        <div class="col-3" *ngFor='let answer of currentQuestion.answers'>
          <div class="card" (click)="onClick(answer)">
            <div class="card-body">
              <span class="h2 mb-0">
                {{answer.label}}
              </span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Précédent -->
    <div class="my-4 text-left">
      <p *ngIf="currentQuestionId > 0" class="btn btn-dark" (click)="backToPrevious(currentQuestionId)">
        <fa-icon [icon]="['fa', 'arrow-left']"></fa-icon>
        Précédent
      </p>
    </div>

  </div>
</div>

<div *ngIf="surveyFinished">
  <app-recommendation [surveyResults]="surveyResults"></app-recommendation>
</div>

